take_medication:
  name: Take Medication
  description: Record that a medication has been taken
  fields:
    medication_id:
      name: Medication ID
      description: The ID of the medication entry (from entity attributes)
      required: true
      example: "abc123def456"
      selector:
        text:

skip_medication:
  name: Skip Medication
  description: Record that a medication dose has been skipped
  fields:
    medication_id:
      name: Medication ID
      description: The ID of the medication entry (from entity attributes)
      required: true
      example: "abc123def456"
      selector:
        text:

refill_medication:
  name: Refill Medication
  description: Reset medication count to full refill amount
  fields:
    medication_id:
      name: Medication ID
      description: The ID of the medication entry (from entity attributes)
      required: true
      example: "abc123def456"
      selector:
        text:

test_notification:
  name: Test Notification
  description: Send a test notification for a medication
  fields:
    medication_id:
      name: Medication ID
      description: The ID of the medication entry (from entity attributes)
      required: true
      example: "abc123def456"
      selector:
        text:

snooze_medication:
  name: Snooze Medication
  description: Snooze a medication reminder for a specified duration
  fields:
    medication_id:
      name: Medication ID
      description: The ID of the medication entry (from entity attributes)
      required: true
      example: "abc123def456"
      selector:
        text:
    snooze_duration:
      name: Snooze Duration (minutes)
      description: How long to snooze the reminder (in minutes)
      required: false
      default: 15
      example: 30
      selector:
        number:
          min: 1
          max: 1440
          unit_of_measurement: minutes

increment_dosage:
  name: Increment Dosage
  description: Increase medication dosage by 0.5 units
  fields:
    medication_id:
      name: Medication ID
      description: The ID of the medication entry (from entity attributes)
      required: true
      example: "abc123def456"
      selector:
        text:

decrement_dosage:
  name: Decrement Dosage
  description: Decrease medication dosage by 0.5 units (minimum 0.5)
  fields:
    medication_id:
      name: Medication ID
      description: The ID of the medication entry (from entity attributes)
      required: true
      example: "abc123def456"
      selector:
        text:

increment_remaining:
  name: Increment Remaining
  description: Increase remaining medication amount by dosage amount
  fields:
    medication_id:
      name: Medication ID
      description: The ID of the medication entry (from entity attributes)
      required: true
      example: "abc123def456"
      selector:
        text:

decrement_remaining:
  name: Decrement Remaining
  description: Decrease remaining medication amount by dosage amount (minimum 0)
  fields:
    medication_id:
      name: Medication ID
      description: The ID of the medication entry (from entity attributes)
      required: true
      example: "abc123def456"
      selector:
        text:

get_statistics:
  name: Get Statistics
  description: Get medication statistics from CSV logs for a date range
  fields:
    medication_id:
      name: Medication ID
      description: Optional medication ID to filter statistics (omit for all medications)
      required: false
      example: "abc123def456"
      selector:
        text:
    start_date:
      name: Start Date
      description: Start date for statistics (ISO format, defaults to 30 days ago)
      required: false
      example: "2024-01-01T00:00:00"
      selector:
        text:
    end_date:
      name: End Date
      description: End date for statistics (ISO format, defaults to now)
      required: false
      example: "2024-01-31T23:59:59"
      selector:
        text:

get_medication_history:
  name: Get Medication History
  description: Retrieve medication history entries from storage
  fields:
    medication_id:
      name: Medication ID
      description: Optional medication ID to filter history (omit for all medications)
      required: false
      example: "abc123def456"
      selector:
        text:
    start_date:
      name: Start Date
      description: Start date for history (ISO format, defaults to 30 days ago)
      required: false
      example: "2024-01-01T00:00:00"
      selector:
        text:
    end_date:
      name: End Date
      description: End date for history (ISO format, defaults to now)
      required: false
      example: "2024-01-31T23:59:59"
      selector:
        text:

edit_medication_history:
  name: Edit Medication History
  description: Edit a medication history entry
  fields:
    history_index:
      name: History Index
      description: The index of the history entry to edit
      required: true
      example: 42
      selector:
        number:
          min: 0
    timestamp:
      name: Timestamp
      description: New timestamp for the entry (ISO format)
      required: false
      example: "2024-01-01T12:00:00"
      selector:
        text:
    action:
      name: Action
      description: New action type for the entry
      required: false
      example: "taken"
      selector:
        select:
          options:
            - "taken"
            - "skipped"
            - "snoozed"
            - "refilled"
    dosage:
      name: Dosage
      description: New dosage for the entry
      required: false
      example: 2.0
      selector:
        number:
          min: 0
          step: 0.5
    dosage_unit:
      name: Dosage Unit
      description: New dosage unit for the entry
      required: false
      example: "mL"
      selector:
        text:

delete_medication_history:
  name: Delete Medication History
  description: Delete a medication history entry
  fields:
    history_index:
      name: History Index
      description: The index of the history entry to delete
      required: true
      example: 42
      selector:
        number:
          min: 0

